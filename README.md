# [ANYWHERE > THIS] 선언성 언어

**어디서든 사용 가능한 간단하고 호환성 좋은 선언성 언어**

## 개요

[ANYWHERE > THIS]는 관계형 데이터와 계층 구조를 직관적으로 표현할 수 있는 선언성 언어입니다. 간단한 문법과 높은 호환성을 통해 다양한 환경에서 사용할 수 있도록 설계되었습니다.

## 문법 규칙

### 단독 대상 금지 원칙

**대상을 하나만 나열하는 것은 절대 금지됩니다.**

```
❌ 잘못된 예시:
A > B > C
D
```

위 예시에서 `D`는 관계 없이 혼자 있으므로 금지됩니다.

### 예외적 허용: 상속을 통한 관계 형성

```
✅ 허용되는 예시:
A > B![D] > C
D
```

이 경우 B에서 상속이 되어 실제로는 `A > B > D`와 같은 판정이 되므로 허용됩니다.

### 단독 대상을 표현하는 방법

대상을 하나만 표현하고 싶다면 빈 문자열을 사용합니다:

```
{||} > D
```

빈 문자열에 속하게 하여 대상 하나만 둔 것과 같은 판정을 만들 수 있습니다.

## 기본 문법

### 1. 관계 표기

`>` 또는 `<` 기호를 사용하여 대상들 간의 관계를 표기합니다.

```
A > B > C
```
- C는 B에 속하고, B는 A에 속함을 의미합니다.

```
C < B < A
```
- 역순으로 표기해도 동일한 의미입니다.

### 2. 단순 나열

관계 없이 단순한 나열도 가능합니다.

```
name > age > gender
```

### 주석 처리

[ANYWHERE > THIS]에서는 `#` 같은 일반적인 주석 표기를 사용하지 않습니다. 대신 문법을 준수하여 주석을 처리합니다.

```
A > B > {|이것은 주석처리된 내용입니다.|}![SKIP]
```

- `{|주석 내용|}`: 안전한 문자열로 주석 내용 감싸기
- `![SKIP]`: 해당 대상을 없는 것으로 처리
- 결과: 주석이 무시되고 `A > B`만 처리됨

이 방식을 통해 언어의 문법 일관성을 유지하면서 주석 기능을 구현합니다.

## 고급 기능

### 명령어 시스템

`대상![명령어]` 형식으로 다양한 기능을 사용할 수 있습니다.

#### 상속 명령어

##### 아래로 상속 (D)

```
A![D] > B > C
b > c
```

아래 줄에 대상을 한 번 상속하며, 결과적으로 `b > c`는 `A > b > c`와 같은 판정이 됩니다.

```
A![D > 1, D > 2]
A![D * 5] 
A![D > 1 ~ 5]
A![D > 2 ~ 3]
```

- `![D > 1, D > 2]`: 특정 줄에 상속
- `![D * 5]`: 아래 5개 줄에 상속  
- `![D > 1 ~ 5]`: 범위 지정 (1~5번째 줄, `![D * 5]`와 동일)
- `![D > 2 ~ 3]`: 2~3번째 줄 (`![D > 2, D > 3]`과 동일)

범위 표시(`~`)를 사용하면 연속된 줄을 간편하게 지정할 수 있습니다.

##### 위로 상속 (U)

```
A > B > C
![U] > d > e
```

- `![U]`: 위 줄에서 상속받음
- `![U > 1]`: 위 1번째 줄에서 상속  
- `![U * 4]`: 위 4개 줄에서 상속

#### 제어 명령어

##### 스킵 (SKIP)

```
A > B![SKIP] > C
```

`![SKIP]`은 이 대상을 없는 것으로 처리하고 다음을 이어붙이므로, 결과는 `A > C`와 같습니다.

```
A > B![SKIP > N] > C > D
A > B > C![SKIP > P] > D    
```

- `![SKIP > N]`: 앞에꺼(B) 스킵
- `![SKIP > P]`: 뒤에꺼(D) 스킵

##### 자르기 (CUT)

```
A > B![D] > C           
A > B![CUT > D] > C     
```

- `![D]`: A > B 전체가 상속됨
- `![CUT > D]`: B만 상속됨

`![CUT > D]`는 여기서 자르고 아래로 상속하는 명령어입니다.

- `![CUT > D > 3]`: 아래 3번째 줄에 자르고 상속
- `![CUT > D * 5]`: 아래 5개 줄에 자르고 상속  
- `![CUT > U]`: 위로 자르고 상속도 가능

#### 명령어 조합 규칙

명령어는 다음과 같은 패턴을 따릅니다:

- **방향**: `D` (아래), `U` (위)
- **대상**: `N` (앞), `P` (뒤)
- **위치 지정**: `> 숫자` (특정 줄)
- **반복**: `* 숫자` (여러 줄)
- **제어**: `SKIP` (생략), `CUT` (자르기)

앞에꺼 상속과 뒤에꺼 상속 모두 가능하며, 다양한 조합으로 복잡한 상속 구조를 만들 수 있습니다.

### 속성 부여

`대상!{|속성|}` 형식으로 속성을 부여할 수 있습니다.

```
A{|a|} > B{|b|}
```

**주의사항**: 속성은 반드시 `{||}` 문법을 사용해야 합니다.

### 안전한 문자열 처리

`{|문자열|}` 형식으로 안전한 문자열 처리가 가능합니다.

```
{|A > B|} > {|B > C|}
```

- 일반 처리가 아닌 안전한 문자열로 처리됩니다.
- 특수 문자나 예약어가 포함된 문자열을 안전하게 다룰 수 있습니다.

### 동적 대상 참조

`?[대상 위치]` 형식으로 대상을 동적으로 가져올 수 있습니다.

```
A > B > C
A > ?[IT > U] > C
```

- `?[IT > U]`: IT(여기) > U(위에)를 의미
- 위에 있는 B를 동적으로 참조합니다.

#### 동적 참조 규칙

동적 참조는 명령어 시스템과 유사한 패턴을 사용합니다 (SKIP, CUT 제외):

##### 기본 방향 참조

```
?[IT > U]    
?[IT > D]    
?[N > U]     
?[P > D]     
```

- `?[IT > U]`: 여기 > 위
- `?[IT > D]`: 여기 > 아래  
- `?[N > U]`: 앞 > 위
- `?[P > D]`: 뒤 > 아래

##### 위치 지정 참조

```
?[N > U > 5]     
?[P > D > 2]     
?[IT > U > 3]    
```

- `?[N > U > 5]`: 앞에 있는 위에 5번째 줄 대상
- `?[P > D > 2]`: 뒤에 있는 아래 2번째 줄 대상  
- `?[IT > U > 3]`: 여기서 위에 3번째 줄 대상

#### 동적 참조 패턴

- **기준점**: `IT` (여기), `N` (앞), `P` (뒤)
- **방향**: `U` (위), `D` (아래)
- **위치 지정**: `> 숫자` (특정 줄)

동적 참조를 통해 복잡한 구조에서도 유연하게 대상을 참조할 수 있습니다.

## 문법 요약

**기본 관계**
- `A > B` : A에 B가 속함 (예: `user > profile`)
- `A < B` : B에 A가 속함 (예: `profile < user`)

**상속 명령어**
- `A![D]` : 아래 줄에 A 상속 (예: `parent![D]`)
- `A![D * n]` : 아래 n개 줄에 A 상속 (예: `root![D * 3]`)
- `A![D > 1 ~ 5]` : 범위 지정 상속 (예: `base![D > 1 ~ 5]`)
- `A![U]` : 위 줄에서 상속받음 (예: `![U] > child`)

**제어 명령어**
- `A![SKIP]` : 대상 생략 처리 (예: `A![SKIP] > B`)
- `A![CUT > D]` : 잘라서 상속 (예: `A > B![CUT > D]`)

**속성과 문자열**
- `A!{|attr|}` : A에 속성 부여 (예: `user!{|active|}`)
- `{|string|}` : 안전한 문자열 (예: `{|special > chars|}`)

**동적 참조**
- `?[IT > U]` : 동적 참조 위쪽 (예: `?[IT > U]`)
- `?[N > U > 5]` : 위치 지정 참조 (예: `?[N > U > 5]`)

## 특징

- **간단함**: 최소한의 문법으로 복잡한 관계 표현
- **직관적**: 시각적으로 이해하기 쉬운 구조
- **유연함**: 다양한 데이터 구조에 적용 가능
- **호환성**: 어디서든 사용 가능한 범용성

## 사용 예시

```
project![D * 3] > {|웹 개발|}
frontend > react > components
backend > nodejs > express
database > mongodb > collections
```

위 예시는 프로젝트 구조를 3개 줄에 걸쳐 상속하여 표현한 것입니다.
